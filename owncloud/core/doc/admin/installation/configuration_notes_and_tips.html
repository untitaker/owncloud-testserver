<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuration Notes &amp; Tips &mdash; ownCloud 10.0 Server Administration Manual 10.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/main.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '10.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="ownCloud 10.0 Server Administration Manual 10.0 documentation" href="../contents.html" />
    <link rel="up" title="Installation" href="index.html" />
    <link rel="next" title="Troubleshooting" href="troubleshooting.html" />
    <link rel="prev" title="Command Line Installation" href="command_line_installation.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#1d2d44">

  </head>
  <body role="document">


<div class="wrap container not-front">
  <div class="content row">
  <main class="main">
    <div class="row page-content-header">
      <div class="col-md-5 col-md-offset-7">
      
        <form class="headersearch" style="margin-bottom:-3px;" action="../search.html" method="get">
        <input type="text" value="" name="q" id="q" class="form-control" /> 
        <button  class="btn btn-default" type="submit" id="searchsubmit">Search</button>
        </form>
      
      </div>
    </div>
    
			<div class="row">
				<div class="col-md-3">
					<div class="sidebar">
							<div class="menu-support-container">
								<ul id="menu-support" class="menu">
									<ul>
										
<li><a href="../contents.html">Table of Contents</a></li>
									</ul>
                  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whats_new_admin.html">What&#8217;s New in ownCloud 10.0</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="system_requirements.html">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="deployment_recommendations.html">Deployment Recommendations</a></li>
<li class="toctree-l2"><a class="reference internal" href="deployment_considerations.html">Deployment Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="linux_installation.html">Preferred Installation Method</a></li>
<li class="toctree-l2"><a class="reference internal" href="source_installation.html">Manual Installation on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation_wizard.html">The Installation Wizard</a></li>
<li class="toctree-l2"><a class="reference internal" href="command_line_installation.html">Command Line Installation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Configuration Notes &amp; Tips</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#selinux">SELinux</a></li>
<li class="toctree-l3"><a class="reference internal" href="#php-ini">php.ini</a></li>
<li class="toctree-l3"><a class="reference internal" href="#php-fpm">PHP-FPM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-web-servers">Other Web Servers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="changing_the_web_route.html">Changing Your ownCloud URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps_management_installation.html">Installing and Managing Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps_supported.html">Supported Apps in ownCloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="selinux_configuration.html">SELinux Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="nginx_configuration.html">NGINX Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../performance/index.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrading/index.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance/index.html">Maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../issues/index.html">Issues and Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise/index.html">Enterprise Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appliance/index.html">The ownCloud X Appliance</a></li>
</ul>

								</ul>
							</div>
					</div>
				</div>
        

				<div class="col-md-9">
					<div class="page-content">
            
<ul class="prevnext-title list-unstyled list-inline">
  <li class="prev">
    <a href="command_line_installation.html" title="Previous Chapter: Command Line Installation"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Command Line ...</span>
    </a>
  </li>
  <li class="next">
    <a href="troubleshooting.html" title="Next Chapter: Troubleshooting"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Troubleshooting &raquo;</span>
    </a>
  </li>
</ul>
						
  <div class="section" id="configuration-notes-tips">
<h1>Configuration Notes &amp; Tips<a class="headerlink" href="#configuration-notes-tips" title="Permalink to this headline">¶</a></h1>
<div class="section" id="selinux">
<span id="selinux-tips-label"></span><h2>SELinux<a class="headerlink" href="#selinux" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference internal" href="selinux_configuration.html"><em>SELinux Configuration</em></a> for a suggested configuration for
SELinux-enabled distributions such as Fedora and CentOS.</p>
</div>
<div class="section" id="php-ini">
<span id="php-ini-tips-label"></span><h2>php.ini<a class="headerlink" href="#php-ini" title="Permalink to this headline">¶</a></h2>
<p>Several core PHP settings have to be configured correctly, otherwise ownCloud may
not work properly. Known settings causing issues are listed here. Please note that
there might be other settings causing unwanted behaviours. In general it is recommended
to keep the <code class="docutils literal"><span class="pre">php.ini</span></code> at their defaults.</p>
<div class="section" id="session-auto-start-enable-post-data-reading">
<h3>session.auto_start &amp;&amp; enable_post_data_reading<a class="headerlink" href="#session-auto-start-enable-post-data-reading" title="Permalink to this headline">¶</a></h3>
<p>Ensure that <a class="reference external" href="https://secure.php.net/manual/en/session.configuration.php#ini.session.auto-start">session.auto_start</a> is set to <code class="docutils literal"><span class="pre">0</span></code> or <code class="docutils literal"><span class="pre">Off</span></code> and <a class="reference external" href="https://secure.php.net/manual/en/ini.core.php#ini.enable-post-data-reading">enable_post_data_reading</a>
to <code class="docutils literal"><span class="pre">1</span></code> or <code class="docutils literal"><span class="pre">On</span></code> in your configuration. If not, you may have issues logging in
to ownCloud via the WebUI, where you see the error: &#8220;<em>Access denied. CSRF check
failed</em>&#8221;.</p>
</div>
<div class="section" id="session-save-path">
<h3>session.save_path<a class="headerlink" href="#session-save-path" title="Permalink to this headline">¶</a></h3>
<p>In addition to setting <code class="docutils literal"><span class="pre">session.auto_start</span></code> and <code class="docutils literal"><span class="pre">enable_post_data_reading</span></code> correctly, ensure that, if <code class="docutils literal"><span class="pre">session.save_handler</span></code> is set to <code class="docutils literal"><span class="pre">files</span></code>, that <code class="docutils literal"><span class="pre">session.save_path</span></code> is set to a path on the filesystem which <strong>only</strong> the web server process (or process which PHP is running as) can read from and write to.</p>
<p>This is especially important if your ownCloud installation is using a shared-hosting arrangement.
In these situations, <a class="reference external" href="https://en.wikipedia.org/wiki/Session_poisoning">session poisoning</a> can occur if all of the session files are stored in the same location.
Session poisoning is where one web application can manipulate data in the <code class="docutils literal"><span class="pre">$_SESSION</span></code> superglobal array of another.</p>
<p>When this happens, the original application has no way of knowing that this corruption has occurred and may not treat the data with any sense of suspicion.
You can <a class="reference external" href="http://ha.xxor.se/2011/09/local-session-poisoning-in-php-part-1.html">read through a thorough discussion of local session poisoning</a> if you&#8217;d like to know more.</p>
</div>
<div class="section" id="suhosin-session-cryptkey">
<h3>suhosin.session.cryptkey<a class="headerlink" href="#suhosin-session-cryptkey" title="Permalink to this headline">¶</a></h3>
<p>When <a class="reference external" href="https://suhosin.org/stories/configuration.html#suhosin-session-cryptkey">suhosin.session.cryptkey</a> is enabled, session data will be transparently encrypted.
If enabled, there is less of a concern in storing application session files in the same location, as discussed in session.save_path.
Ideally, however, session files for each application should always be stored in a location specific to that application, and never stored collectively with any other.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is only relevant if you’re using PHP 5.x.</p>
</div>
</div>
<div class="section" id="post-max-size">
<h3>post_max_size<a class="headerlink" href="#post-max-size" title="Permalink to this headline">¶</a></h3>
<p>Please ensure that you have <code class="docutils literal"><span class="pre">post_max_size</span></code> configured with <em>at least</em> the minimum
amount of memory for use with ownCloud, which is 512 MB.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Please be careful when you set this value if you use the byte value shortcut as it is very specific.
Use <cite>K</cite> for kilobyte, <cite>M</cite> for megabyte and <cite>G</cite> for gigabyte. <cite>KB</cite>, <cite>MB</cite>, and <cite>GB</cite> <strong>do not work!</strong></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Keep in mind that changes to <code class="docutils literal"><span class="pre">php.ini</span></code> may have to be configured in more
than one ini file. This can be the case, for example, for the
<code class="docutils literal"><span class="pre">date.timezone</span></code> setting.</p>
</div>
</div>
<div class="section" id="php-ini-used-by-the-web-server">
<h3>php.ini - Used by the Web server<a class="headerlink" href="#php-ini-used-by-the-web-server" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>  /etc/php5/apache2/php.ini
or
  /etc/php5/fpm/php.ini
or ...
</pre></div>
</div>
</div>
<div class="section" id="php-ini-used-by-the-php-cli-and-so-by-owncloud-cron-jobs">
<h3>php.ini - used by the php-cli and so by ownCloud CRON jobs<a class="headerlink" href="#php-ini-used-by-the-php-cli-and-so-by-owncloud-cron-jobs" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>/etc/php5/cli/php.ini
</pre></div>
</div>
</div>
</div>
<div class="section" id="php-fpm">
<span id="php-fpm-tips-label"></span><h2>PHP-FPM<a class="headerlink" href="#php-fpm" title="Permalink to this headline">¶</a></h2>
<div class="section" id="system-environment-variables">
<h3>System Environment Variables<a class="headerlink" href="#system-environment-variables" title="Permalink to this headline">¶</a></h3>
<p>When you are using <code class="docutils literal"><span class="pre">php-fpm</span></code>, system environment variables like
<code class="docutils literal"><span class="pre">PATH</span></code>, <code class="docutils literal"><span class="pre">TMP</span></code> or others are not automatically populated in the same way as
when using <code class="docutils literal"><span class="pre">php-cli</span></code>. A PHP call like <code class="docutils literal"><span class="pre">getenv('PATH');</span></code> can therefore
return an empty result. So you may need to manually configure environment
variables in the appropriate <code class="docutils literal"><span class="pre">php-fpm</span></code> ini/config file.</p>
<p>Here are some example root paths for these ini/config files:</p>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Ubuntu/Mint</td>
<td>CentOS/Red Hat/Fedora</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">/etc/php5/fpm/</span></code></td>
<td><code class="docutils literal"><span class="pre">/etc/php-fpm.d/</span></code></td>
</tr>
</tbody>
</table>
<p>In both examples, the <code class="docutils literal"><span class="pre">ini/config</span></code> file is called <code class="docutils literal"><span class="pre">www.conf</span></code>, and depending
on the distribution or customizations which you have made, it may be in
a sub-directory.</p>
<p>Usually, you will find some or all of the environment variables
already in the file, but commented out like this:</p>
<div class="highlight-python"><div class="highlight"><pre>;env[HOSTNAME] = $HOSTNAME
;env[PATH] = /usr/local/bin:/usr/bin:/bin
;env[TMP] = /tmp
;env[TMPDIR] = /tmp
;env[TEMP] = /tmp
</pre></div>
</div>
<p>Uncomment the appropriate existing entries. Then run <code class="docutils literal"><span class="pre">printenv</span> <span class="pre">PATH</span></code> to
confirm your paths, for example:</p>
<div class="highlight-python"><div class="highlight"><pre>$ printenv PATH
/home/user/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:
/sbin:/bin:/
</pre></div>
</div>
<p>If any of your system environment variables are not present in the file then
you must add them.</p>
<p>When you are using shared hosting or a control panel to manage your ownCloud
virtual machine or server, the configuration files are almost certain to be
located somewhere else, for security and flexibility reasons, so check your
documentation for the correct locations.</p>
<p>Please keep in mind that it is possible to create different settings for
<code class="docutils literal"><span class="pre">php-cli</span></code> and <code class="docutils literal"><span class="pre">php-fpm</span></code>, and for different domains and Web sites.
The best way to check your settings is with <a class="reference internal" href="../issues/general_troubleshooting.html#label-phpinfo"><span>PHP Version and Information</span></a>.</p>
</div>
<div class="section" id="maximum-upload-size">
<h3>Maximum Upload Size<a class="headerlink" href="#maximum-upload-size" title="Permalink to this headline">¶</a></h3>
<p>If you want to increase the maximum upload size, you will also have to modify
your <code class="docutils literal"><span class="pre">php-fpm</span></code> configuration and increase the <code class="docutils literal"><span class="pre">upload_max_filesize</span></code> and
<code class="docutils literal"><span class="pre">post_max_size</span></code> values. You will need to restart <code class="docutils literal"><span class="pre">php5-fpm</span></code> and your HTTP
server in order for these changes to be applied.</p>
</div>
<div class="section" id="htaccess-notes-for-apache">
<h3>.htaccess Notes for Apache<a class="headerlink" href="#htaccess-notes-for-apache" title="Permalink to this headline">¶</a></h3>
<p>ownCloud comes with its own <code class="docutils literal"><span class="pre">owncloud/.htaccess</span></code> file. Because <code class="docutils literal"><span class="pre">php-fpm</span></code> can&#8217;t
read PHP settings in <code class="docutils literal"><span class="pre">.htaccess</span></code> these settings and permissions must be set
in the <code class="docutils literal"><span class="pre">owncloud/.user.ini</span></code> file.</p>
</div>
<div class="section" id="no-basic-authentication-headers-were-found">
<h3>No basic authentication headers were found<a class="headerlink" href="#no-basic-authentication-headers-were-found" title="Permalink to this headline">¶</a></h3>
<p>This error is shown in your <code class="docutils literal"><span class="pre">data/owncloud.log</span></code> file.
Some Apache modules like <code class="docutils literal"><span class="pre">mod_fastcgi</span></code>, <code class="docutils literal"><span class="pre">mod_fcgid</span></code> or <code class="docutils literal"><span class="pre">mod_proxy_fcgi</span></code> are not passing the needed authentication headers to PHP and so the login to ownCloud via WebDAV, CalDAV and CardDAV clients is failing.
Information on how to correctly configure your environment can be found <a class="reference external" href="https://central.owncloud.org/t/no-basic-authentication-headers-were-found-message/819">in the forums</a> but we generally recommend against the use of these modules and recommend mod_php instead.</p>
</div>
</div>
<div class="section" id="other-web-servers">
<span id="other-http-servers-label"></span><h2>Other Web Servers<a class="headerlink" href="#other-web-servers" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://github.com/owncloud/documentation/wiki/Alternate-Web-server-notes">Other HTTP servers</a></li>
<li><a class="reference external" href="https://github.com/owncloud/documentation/wiki/UCS-Installation">Univention Corporate Server installation</a></li>
</ul>
</div>
</div>


            
<ul class="prevnext-title list-unstyled list-inline">
  <li class="prev">
    <a href="command_line_installation.html" title="Previous Chapter: Command Line Installation"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Command Line ...</span>
    </a>
  </li>
  <li class="next">
    <a href="troubleshooting.html" title="Next Chapter: Troubleshooting"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Troubleshooting &raquo;</span>
    </a>
  </li>
</ul>
					</div>
				</div>
			</div>
  </main>  
  </div>
</div>
  </body>
</html>